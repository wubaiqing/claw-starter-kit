---
name: sleep-nagger
description: "催我睡觉" 自定义提醒：当检测到用户在 23:00 之后（或凌晨仍在聊天）还在发消息时，生成逐渐升级语气的提醒文案。用于晚间强制下线、睡眠提醒、别熬夜。触发词：催我睡觉/别熬夜/该睡了。
---

# sleep-nagger

用一个小脚本生成“催睡”提醒文案，并按当晚次数逐步升级语气。

## 什么时候用

- 用户在 **23:00–07:59（Asia/Shanghai）** 仍在发消息
- 或用户明确说“催我睡觉 / 别熬夜 / 该睡了”

## 用法

在项目根目录下执行：

```bash
bash skills/sleep-nagger/scripts/nag.sh
```

- 若当前不在催睡时段，会输出空并返回非 0。
- 若在催睡时段，会输出一段提醒文案（语气会随当晚次数升级）。

### 重置

脚本会按“夜晚”计数（23:00 开始到次日 07:59）。到 08:00 后会自动开始新的一晚计数。

## 集成建议（给助手）

- 当收到用户消息时，如果本地时间在 23:00–07:59：
  1) 先运行 `nag.sh` 拿到提醒文案
  2) 将提醒作为回复的第一段（或单独回复）
  3) 如果用户确实有紧急/必须处理的事，可以在提醒后继续处理问题

注意：不要把任何 token/隐私写进状态文件。
